

network net {

  in sync ready bool p_in;
  out sync ready bool p_out;

  a_i = new a();
  b_i = new b();

  this.p_in -> b_i.p_in;
  b_i.p_out -> a_i.p_in;
  a_i.p_out -> this.p_out;

  a_i.p_out_struct -> b_i.p_in_vec;
  b_i.p_out_vec -> a_i.p_in_struct;

  a_i.p_loop_out_struct -> a_i.p_loop_in_struct;
}
