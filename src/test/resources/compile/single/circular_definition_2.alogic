network circular_definition_2 {
  network inner {
    param uint P;
    gen if (P == 0) {
      i = new inner(P = 1);
    } else if (P == 1) {
      i = new inner(P = 2);
    } else if (P == 2) {
      i = new inner(P = 3);
    } else {
      i = new inner(P = 0);
    }
  }

  start = new inner(P = 0);
}
// :15: ERROR: Definition of 'inner' is circular
// :15: ERROR: ... with parameter assignments: P = 0
// :2: NOTE: 'inner' is defined at
// :5: NOTE: depends on 'inner'
// :5: NOTE: ... with parameter assignments: P = 1
// :2: NOTE: 'inner' is defined at
// :7: NOTE: depends on 'inner'
// :7: NOTE: ... with parameter assignments: P = 2
// :2: NOTE: 'inner' is defined at
// :9: NOTE: depends on 'inner'
// :9: NOTE: ... with parameter assignments: P = 3
// :2: NOTE: 'inner' is defined at
// :11: NOTE: which in turn depends on 'inner'
// :11: NOTE: ... with parameter assignments: P = 0
