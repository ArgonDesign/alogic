network gen_if_stmt_0 {
  in bool p_i;

  out bool p_on;
  out bool p_op;

  fsm inner {
    param bool P;

    out bool p_o;

    void main() {
      gen if (P) {
        p_o.write(p_i);
      } else {
        p_o.write(~p_i);
      }
      fence;
    }
  }

  neg = new inner(P=false);
  pos = new inner(P=true);

  neg.p_o -> p_on;
  pos.p_o -> p_op;
}
